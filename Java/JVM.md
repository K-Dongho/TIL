# JVM

### JVM 이란

JVM이란 Java Virtial Machine 자바 가상 머신의 약자를 따서 부르는 용어이다.
Java는 OS 에 종속적이지 않다는 특징을 가지고 있다. OS에 종속 받지 않고 실행하기 위해 OS 위에서 JVM이 자바를 실행시킨다.  
즉, 자바 프로그램 실행환경을 만들어 주는 소프트웨어이다.

---

### JVM 구성

- #### 실행 엔진 (Execution Engine)

  클래스를 실행시키는 역할이다. 클래스 로더가 런타임 데이터 영역에 `(*.class)`를 배치시키고 실행 엔진에 의해 실행된다.  
  실행 엔진은 `(*.class)`를 JVM 내부에서 기계가 실행할 수 있는 형태로 변경한다.

- #### 클래스 로더 (Class Loader)

  클래스 로더는 JVM 내로 `(*.class)`를 로드하고 링크를 통해 배치하는 작업을 수행하는 모듈이다. 런타임 시에 동적으로 `(*.class)`를 런타임 데이터 영역에 배치시킨다.

- #### 인터프리터 (Interpreter)

  런타임 시 자바 컴파일러에 의해 변환된 바이트 코드를 한 줄씩 기계어로 해석한다.
  한 줄씩 수행하기 때문에 속도가 느리다는 단점이 있다.

- #### JIT 컴파일러 (Just-In Time compiler)

  인터프리터 방식의 단점을 보완하기 위해 도입된 컴파일러이다. 인터프리터 방식으로 실행하다가 반복되는 코드들을 미리 기계어로 해석하여 캐싱을 해둡니다. 캐시에 보관되어 있기 때문에 한번 컴파일된 코드는 빠르게 수행하게 된다.

- #### 가비지 컬렉터 (Garbage Collector)

  더 이상 사용하지 않는 인스턴스를 찾아 메모리에서 삭제한다.

---

### Java 실행 과정

1. 코드가 실행되면 JVM은 OS로부터 메모리를 할당받는다. JVM은 메모리를 용도에 따라 여러 영역으로 나누어 관리한다.
2. 자바 컴파일러가 자바 소스코드`(*.java)`를 읽어들여 자바 바이트코드`(*.class)`로 변환시킨다
3. 클래스 로더를 통해 `(*.class)` 파일들을 JVM으로 로딩한다.
4. 로딩된 `(*.class)` 파일들은 실행 엔진에 의해 해석된다.
5. 해석된 `(*.class)`는 런타임 데이터 영역에 배치되어 실질적인 수행이 이루어진다.
